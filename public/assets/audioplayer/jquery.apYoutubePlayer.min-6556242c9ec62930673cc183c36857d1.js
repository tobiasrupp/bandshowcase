!function(e){function t(t){function a(e){return e in document.documentElement.style}function i(){y.playerReady=!0,e(y).trigger("ap_YoutubePlayer.YT_READY"),"undefined"!=typeof y._player.setVolume&&y._player.setVolume(100*y._defaultVolume),y.parent.getMediaPlaying()&&y._autoPlay&&y._player.playVideo()}function o(){}function r(t){return y.forceMainStop&&(y.forceMainStop=!1,"undefined"!=typeof y._player.stopVideo)?(y._player.stopVideo(),void 0):(-1==t.data?"undefined"!=typeof e.videoGallery&&"undefined"!=typeof e.videoGallery.getVolume&&y.isFirefox&&"undefined"!=typeof y._player.setVolume&&y._player.setVolume(100*e.videoGallery.getVolume()):0==t.data?e(y).trigger("ap_YoutubePlayer.END_PLAY"):1==t.data?(y._initialAutoplaySet||(y._autoPlay=!0,y._initialAutoplaySet=!0),y.small_embed&&"undefined"!=typeof y._player.setVolume&&y._player.setVolume(0),y.forcePreviewStop&&"undefined"!=typeof y._player.stopVideo&&y._player.stopVideo(),y._inited||(e(y).trigger("ap_YoutubePlayer.START_PLAY"),y._inited=!0,y.quality&&1==y.quality&&"undefined"!=typeof y._player.getAvailableQualityLevels&&y._player.getAvailableQualityLevels()[0]&&y._player.setPlaybackQuality(y._player.getAvailableQualityLevels()[0])),y.parent.getMediaPlaying()?e(y).trigger("ap_YoutubePlayer.STATE_PLAYING"):y._player.stopVideo()):2==t.data?y.isMobile?"iPhone"==y.parent.getMobileType()||"iPod"==y.parent.getMobileType()?e(y).trigger("ap_YoutubePlayer.STATE_PAUSED"):y.parent.getMediaPlaying()?y._player.playVideo():e(y).trigger("ap_YoutubePlayer.STATE_PAUSED"):y.parent.getMediaPlaying()?y._player.playVideo():e(y).trigger("ap_YoutubePlayer.STATE_PAUSED"):3==t.data||5==t.data&&e(y).trigger("ap_YoutubePlayer.STATE_CUED"),void 0)}function l(e){var t;switch(e.data){case 2:t="Error code = "+e.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 100:t="Error code = "+e.data+": Video not found, removed, or marked as private";break;case 101:t="Error code = "+e.data+": Embedding disabled for this video";break;case 150:t="Error code = "+e.data+": Video not found, removed, or marked as private [same as error 100]";break;default:t="Error code = "+e.data}}var y=this;this.parent=t.parent,this.isMobile=t.isMobile,this.initialAutoplay=t.initialAutoplay,this._initialAutoplaySet=!1,this._inited=!1,this._player,this._autoPlay=t.autoPlay,this._defaultVolume=t.defaultVolume,this._youtubeHolder=t.youtubeHolder,this._frameId="ytplayer"+Math.floor(16777215*Math.random()),t.quality&&(this.quality=t.quality),t.small_embed&&(this.small_embed=t.small_embed),this.lastID,this.playerReadyInterval=100,this.playerReadyIntervalID,this.playerReady=!1;var d,n=t.youtubeChromeless,s="&amp;wmode=transparent",p="&amp;enablejsapi=1",u="?controls=0",h="&amp;showinfo=0",f="&amp;theme=dark",_="&amp;rel=0";this.forcePreviewStop=!1,this.forceMainStop=!1,this.isFirefox=a("MozBoxSizing"),n?d=this.small_embed?t.isIE?"http://www.youtube.com/embed/"+t.mediaPath+u+h+p+s:"http://www.youtube.com/embed/"+t.mediaPath+u+h+p+s:"http://www.youtube.com/embed/"+t.mediaPath+u+h+_+p+f+s:(_="?rel=0",d="https://www.youtube.com/embed/"+t.mediaPath+_+p+f),this.youtubeVideoIframe=e("<iframe />",{frameborder:0,src:d,width:"100%",height:"100%",id:this._frameId,webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0}),this._youtubeHolder.css("display","block").append(this.youtubeVideoIframe);var c=setInterval(function(){window.YT&&(c&&clearInterval(c),y._player=new YT.Player(y._frameId,{events:{onReady:i,onPlaybackQualityChange:o,onStateChange:r,onError:l}}))},100);window.onYouTubeIframeAPIReady=function(){}}e.youtubePlayer=function(e){return new t(e)},t.prototype={clean:function(){this._player&&("undefined"!=typeof this._player.stopVideo&&this._player.stopVideo(),this._player=null),this.youtubeVideoIframe&&(this.youtubeVideoIframe.attr("src",""),this.youtubeVideoIframe.remove(),this.youtubeVideoIframe=null)},stopPreview:function(){this.forcePreviewStop=!0},initVideo:function(e){if(this.forceMainStop=!1,this._autoPlay=!0,this.playerReady)this._player&&(this.forcePreviewStop=!1,this._inited=!1,this._autoPlay?"undefined"!=typeof this._player.loadVideoById&&this._player.loadVideoById(e):"undefined"!=typeof this._player.cueVideoById&&this._player.cueVideoById(e));else{var t=this;if(this.lastID=e,this.playerReadyIntervalID)return;this.playerReadyIntervalID=setInterval(function(){t.playerReady&&(t.playerReadyIntervalID&&clearInterval(t.playerReadyIntervalID),t.initVideo(t.lastID))},this.playerReadyInterval)}},stop:function(){this.forceMainStop=!0,this._player&&"undefined"!=typeof this._player.stopVideo&&(this._player.stopVideo(),this._inited=!1)},play:function(){this._player&&"undefined"!=typeof this._player.playVideo&&this._player.playVideo()},pause:function(){this._player&&"undefined"!=typeof this._player.pauseVideo&&this._player.pauseVideo()},togglePlayback:function(e){if(this._player)if(void 0==e){if("undefined"==typeof this._player.getPlayerState)return!1;var t=this._player.getPlayerState();1==t||3==t?"undefined"!=typeof this._player.pauseVideo&&this._player.pauseVideo():2==t?"undefined"!=typeof this._player.playVideo&&this._player.playVideo():(-1==t||5==t||0==t)&&"undefined"!=typeof this._player.playVideo&&this._player.playVideo()}else e?"undefined"!=typeof this._player.playVideo&&this._player.playVideo():"undefined"!=typeof this._player.pauseVideo&&this._player.pauseVideo()},seek:function(e){this._player&&"undefined"!=typeof this._player.seekTo&&this._player.seekTo(e)},isMuted:function(){return this._player&&"undefined"!=typeof this._player.isMuted?this._player.isMuted():void 0},getDuration:function(){return this._player&&"undefined"!=typeof this._player.getDuration?this._player.getDuration():void 0},getCurrentTime:function(){return this._player&&"undefined"!=typeof this._player.getCurrentTime?this._player.getCurrentTime():void 0},getVideoBytesLoaded:function(){return this._player&&"undefined"!=typeof this._player.getVideoBytesLoaded?this._player.getVideoBytesLoaded():void 0},getVideoBytesTotal:function(){return this._player&&"undefined"!=typeof this._player.getVideoBytesTotal?this._player.getVideoBytesTotal():void 0},setVolume:function(e){0>e?vol=0:e>1&&(e=1),this._player&&"undefined"!=typeof this._player.setVolume&&this._player.setVolume(100*e)},getPlayerState:function(){return this._player&&"undefined"!=typeof this._player.getPlayerState?this._player.getPlayerState():void 0},setAutoPlay:function(e){this._autoPlay=e}}}(jQuery);